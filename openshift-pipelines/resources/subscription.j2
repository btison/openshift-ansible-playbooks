apiVersion: operators.coreos.com/v1alpha1
kind: Subscription
metadata:
  name: {{ openshift_pipelines_subscription_name }}
spec:
  channel: {{ openshift_pipelines_subscription_channel }}
{% if openshift_pipelines_automatic_installplan_approval | default(True) | bool %}
  installPlanApproval: Automatic
{% else %}
  installPlanApproval: Manual
{% endif %}
  name: {{ openshift_pipelines_subscription_package_name }}
  source: {{ openshift_pipelines_subscription_catalog_source }}
  sourceNamespace: {{ openshift_pipelines_subscription_catalog_source_namespace }}
  startingCSV: "{{ openshift_pipelines_subscription_starting_csv }}"
